
# Calculator API

Этот проект представляет собой веб-сервис, который вычисляет математические выражения, отправленные пользователем через HTTP-запросы. Сервис обрабатывает арифметические выражения с поддержкой операций сложения, вычитания, умножения и деления. Для выполнения вычислений используется алгоритм с учетом скобок.

Платформа позволяет отправлять выражения через POST-запросы и получать результаты вычислений. В случае ошибок возвращаются сообщения с кодами ошибок.

## Особенности

- Поддержка базовых арифметических операций: `+`, `-`, `*`, `/`.
- Обработка выражений с использованием скобок для приоритета операций.
- Проверка на недопустимые символы и деление на ноль.
- Ответ в формате JSON с результатом или сообщением об ошибке.

## Установка и запуск

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/yourusername/arithmetic-api.git
   ```

2. Перейдите в директорию проекта:

   ```bash
   cd arithmetic-api
   ```

3. Убедитесь, что у вас установлен Golang.

4. Установите зависимости и соберите проект:

   ```bash
   go mod tidy
   ```

5. Запустите сервер:

   ```bash
   go run main.go
   ```

6. Сервис будет доступен по адресу [http://localhost:8080/api/v1/calculate](http://localhost:8080/api/v1/calculate).

## Пример использования

### Пример запроса:

Отправьте POST-запрос на URL `http://localhost:8080/api/v1/calculate` с телом запроса в формате JSON:

```json
{
  "expression": "3 + 5 * (2 - 8)"
}
```

**Ответ** (в случае успешного вычисления):

```json
{
  "result": "-13.00"
}
```

### Пример ошибки:

Если выражение содержит недопустимые символы, например, буквы:

```json
{
  "expression": "2 + 3 * (5 - a)"
}
```

**Ответ**:

```json
{
  "error": "expression contains invalid characters"
}
```

### Пример деления на ноль:

```json
{
  "expression": "10 / 0"
}
```

**Ответ**:

```json
{
  "error": "division by zero"
}
```

### Пример ошибки сервера:

Если возникает непредвиденная ошибка:

**Ответ**:

```json
{
  "error": "Internal Server Error"
}
```

## API

### POST /api/v1/calculate

Отправляет запрос с арифметическим выражением и получает результат вычисления.

**Запрос:**

```json
{
  "expression": "3 + 5 * (2 - 8)"
}
```

**Ответ:**

В случае успешного вычисления:

```json
{
  "result": "-13.00"
}
```

В случае ошибки при вычислении (например, деление на ноль):

```json
{
  "error": "division by zero"
}
```

Если выражение содержит недопустимые символы:

```json
{
  "error": "expression contains invalid characters"
}
```

Если произошла ошибка на сервере:

```json
{
  "error": "Internal Server Error"
}
```

### Коды ошибок

- `422 Unprocessable Entity` — если выражение содержит ошибки синтаксиса.
- `405 Method Not Allowed` — если запрос использует неверный HTTP-метод (например, GET вместо POST).
- `500 Internal Server Error` — если произошла ошибка на сервере.
